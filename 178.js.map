{"version":3,"file":"178.js","mappings":"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","sources":["webpack://@examples/base/../../packages/document-title/src/index.tsx","webpack://@examples/base/../../packages/basic-layouts/src/LogoHeader.tsx","webpack://@examples/base/../../packages/basic-layouts/src/Menu.tsx","webpack://@examples/base/../../packages/basic-layouts/src/Breadcrumb/index.tsx","webpack://@examples/base/../../packages/basic-layouts/src/utils.ts","webpack://@examples/base/../../packages/basic-layouts/src/Content/index.tsx","webpack://@examples/base/../../packages/basic-layouts/src/HeaderRightMenu/index.tsx","webpack://@examples/base/../../packages/basic-layouts/src/FullScreen/index.tsx","webpack://@examples/base/../../packages/basic-layouts/src/index.tsx","webpack://@examples/base/./src/layouts/BasicLayout.tsx","webpack://@examples/base/../../node_modules/classnames/index.js"],"sourcesContent":["import React, { useEffect, Fragment } from 'react';\n\nexport interface DocumentTitle {\n  title?: string;\n  children?: React.ReactNode;\n}\n\nfunction DocumentTitle(props = {} as any): JSX.Element {\n  useEffect(() => {\n    document.title = props.title || '';\n  }, [props.title]);\n  return (\n    <Fragment>\n      {React.Children.toArray(props.children).map((child) => {\n        if (!React.isValidElement(child)) return null;\n        return React.cloneElement(child, { ...(child.props || {}) });\n      })}\n    </Fragment>\n  );\n}\n\nexport default DocumentTitle;\n","import React, { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\n\ninterface LogoHeaderProps {\n  collapsed?: boolean;\n  projectName?: string;\n  logo?: string;\n}\n\nexport default (props: LogoHeaderProps = {}) => {\n  const logo = useMemo(\n    () =>\n      props.logo && <img src={props.logo} alt={props.projectName || 'logo'} />,\n    [props.logo],\n  );\n  const name = useMemo(\n    () => props.projectName && <h1>{props.projectName}</h1>,\n    [props.projectName],\n  );\n\n  return useMemo(\n    () => (\n      <div className=\"uiw-admin-global-title\">\n        <Link\n          to=\"/\"\n          style={props.collapsed ? { justifyContent: 'center' } : {}}\n        >\n          {logo}\n          {!props.collapsed && name}\n        </Link>\n      </div>\n    ),\n    [props.collapsed],\n  );\n};\n","import React, { Fragment } from 'react';\nimport classnames from 'classnames';\nimport Menu, { MenuItemProps, SubMenuProps } from '@uiw/react-menu';\nimport { DefaultProps, } from '@uiw-admin/router-control';\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { matchPath, NavigateFunction } from \"react-router\"\n\ninterface MenuProps {\n  collapsed?: boolean;\n  routes?: DefaultProps['routes'];\n}\n\nfunction renderMenuItem(\n  routes: MenuProps['routes'] = [],\n  collapsed: boolean,\n  pathName: string,\n  navigate: NavigateFunction,\n  level?: boolean,\n) {\n  return routes.map((item: any, index: number) => {\n    const props = {\n      key: index,\n      icon: item.icon,\n    } as MenuItemProps<any> & SubMenuProps<any>;\n    let isAuth = true;\n    if (Reflect.has(item, \"isAuth\")) {\n      isAuth = Reflect.get(item, \"isAuth\")\n    }\n    if (item.index || item.hideInMenu || !isAuth || item.path === \"*\") {\n      return <Fragment key={index} />;\n    }\n    if (level) {\n      props.className = classnames({\n        'uiw-admin-global-sider-menu-collapsed': collapsed,\n      });\n    }\n    if (matchPath({ path: item.path, }, pathName)) {\n      props.active = true;\n    }\n    if (item.routes) {\n      if (collapsed) {\n        props.overlayProps = {\n          isOutside: true,\n          usePortal: true,\n        };\n      }\n      return (\n        <Menu.SubMenu {...props} text={item.name || '-'} collapse={collapsed}>\n          {renderMenuItem(item.routes, collapsed, pathName, navigate)}\n        </Menu.SubMenu>\n      );\n    }\n    return (\n      <Menu.Item\n        {...props}\n        onClick={() => {\n          /** 在这边加路由权限 控制就好了 */\n          // isAuth 这边加这个属性\n          // 1. 如果加了这个属性 说明  跳转需求进行权限校验\n          // 2. 如果没加这个属性 说明  跳转不用权限校验\n          // 3. 加了这个属性为 false 说明 这个路由是没权限的，需要跳转403页面\n          // 4. 加了这个属性为 true 说明 这个路由是有权限的，跳转正常页面\n          // if (item.path === \"/courses1/:id\") {\n          //   navigate(\"/courses1/12\", { state: { ad: 122 }, replace: true })\n          // } else {\n          navigate(item.path, { replace: true })\n          // }\n        }}\n        to={item.path}\n        text={item.name || '-'}\n      />\n    );\n  });\n}\n\nexport default (props: MenuProps = {}) => {\n  const { routes = [], collapsed } = props;\n  const location = useLocation()\n  const navigate = useNavigate()\n  const pathName = location.pathname\n  return <Menu\n    theme=\"dark\"\n    inlineCollapsed={!!collapsed}\n    style={{ padding: '0 12px' }}\n  >\n    {renderMenuItem(routes, !!collapsed, pathName, navigate, true)}\n  </Menu>\n};\n","import React from \"react\"\nimport { Breadcrumb } from \"uiw\"\nimport { useLocation } from \"react-router-dom\";\nimport { BreadcrumbMap } from \"./../utils\"\ninterface BreadProps {\n  routeMap: BreadcrumbMap\n}\nconst Bread = (props: BreadProps) => {\n  const { routeMap } = props;\n  const location = useLocation()\n  const domList = routeMap.breadcrumb.get(location.pathname) || []\n  return <Breadcrumb>\n    {domList?.map((item, index) => {\n      return <Breadcrumb.Item key={index} >{item.name}</Breadcrumb.Item>\n    })}\n  </Breadcrumb>\n}\n\nexport default Bread;","import { RoutersProps } from \"@uiw-admin/router-control\"\n/** 菜单转化 去除 dom  */\nexport function getMenu(data: RoutersProps[] = []) {\n  let treeList: RoutersProps[] = []\n  data.forEach((item) => {\n    let obj = { ...item }\n    if (item.routes) {\n      const child = getMenu(obj.routes)\n      obj.routes = child\n    }\n    if (item.path && item.path !== \"*\") {\n      const { element, component, children, path, ...rest } = obj\n      treeList.push({ ...rest, path, key: path })\n    }\n  })\n  return treeList;\n}\n\n/** 把数组扁平化 用于 选项卡渲染 */\nexport const getRoutesList = (data: RoutersProps[] = [], list: RoutersProps[] = []) => {\n  data.forEach((item) => {\n    if (item.routes) {\n      getRoutesList(item.routes, list)\n    } else {\n      list.push(item)\n    }\n  })\n  return list;\n}\n\n/** 菜单 转换成 渲染面包屑导航  */\nexport class BreadcrumbMap {\n  breadcrumb: Map<string, RoutersProps[]> = new Map([])\n  flat: RoutersProps[] = [];\n  constructor(routeData: RoutersProps[]) {\n    this.init(routeData)\n  }\n  private init(route: RoutersProps[], parent?: RoutersProps[]) {\n    route.forEach((item) => {\n      let par = (parent || []).concat([item])\n      /** 始终把自己加载最后 */\n      if (item.routes) {\n        this.init(item.routes, par)\n      }\n      if (item.path && item.path !== \"*\") {\n        this.breadcrumb.set(item.path, par)\n      }\n      this.flat.push(item)\n    })\n  }\n}\n\n\n\n","import React from 'react';\ninterface ContentProps {\n  children: React.ReactNode;\n}\nexport default (props: ContentProps) => {\n  return <div style={{ height: \"100%\", overflow: \"auto\" }}>\n    {props.children}\n  </div>\n}\n\n\n\n","import React from 'react'\nimport { Menu, Avatar, Popover } from 'uiw';\nimport { useNavigate } from 'react-router-dom';\nimport './index.css';\n\n\nexport interface HeaderMenuItemsProps {\n  title: React.ReactNode;\n  icon: JSX.Element | string | false | null;\n  onClick?: () => void;\n  divider?: boolean;\n  render?: React.ReactNode;\n}\nexport interface HeaderRightProps {\n  /**\n  * 菜单\n  */\n  menus?: Array<HeaderMenuItemsProps>\n  /**\n   * avatar 头像\n   * userName 用户名\n   * menuLeft 菜单左侧\n   */\n  profile?: {\n    avatar?: string;\n    userName?: string;\n    menuLeft?: React.ReactElement;\n  },\n  // 重新加载权限\n  onReloadAuth: () => void\n}\n\nexport default function HeaderRightMenu(props: HeaderRightProps) {\n\n  const navigate = useNavigate()\n\n  const { menus = [], profile = {}, onReloadAuth } = props\n\n  const menuData: Array<HeaderMenuItemsProps & any> = [\n    {\n      title: <span style={{ fontSize: 15 }}>账号 {profile?.userName || 'admin'}</span>,\n      icon: \"user\",\n    },\n    {\n      divider: true,\n    },\n    ...menus,\n    {\n      title: '刷新权限',\n      icon: \"reload\",\n      onClick: () => onReloadAuth(),\n    },\n    {\n      divider: true,\n    },\n    {\n      title: '退出登录',\n      icon: \"logout\",\n      onClick: () => navigate(\"/login\", { replace: true })\n    },\n  ];\n\n  const menuView = (\n    <div style={{ width: 150 }}>\n      <Menu>\n        {menuData.map(({ title, icon, onClick, divider, render, ...otherProps }, index: number) => {\n          if (divider) {\n            return <Menu.Divider key={index} />;\n          }\n          if (render) {\n            return <React.Fragment key={index}>{render}</React.Fragment>;\n          }\n          return <Menu.Item key={index} text={title} icon={icon} {...otherProps} onClick={onClick && onClick} />\n        })}\n      </Menu>\n    </div>\n  );\n\n  return (\n    <div className=\"uiw-global-header-menu\">\n      <span className=\"uiw-global-header-menu\">\n        <Popover trigger=\"click\" placement=\"bottomRight\" content={menuView}>\n          {profile?.avatar ? <img src={profile.avatar} /> : <Avatar icon=\"user\" size=\"default\" />}\n        </Popover>\n      </span>\n    </div>\n  )\n}","import React, { useState, useMemo, useEffect } from 'react';\nimport { Icon } from \"uiw\"\n\n/**\n * 当前是否全屏\n */\nfunction isFullScreen() {\n  let el: any = document\n  return (\n    el.mozFullScreen ||\n    el.webkitIsFullScreen ||\n    el.webkitFullScreen ||\n    el.msFullScreen\n  )\n}\n\n/**\n * 判断当前文档是否能切换到全屏\n */\nfunction isFullscreenEnabled() {\n  let el: any = document\n  return (\n    el.fullscreenEnabled ||\n    el.mozFullScreenEnabled ||\n    el.webkitFullscreenEnabled ||\n    el.msFullscreenEnabled\n  )\n}\n\nexport default () => {\n  if (!isFullscreenEnabled()) return null;\n  const [fullscreen, setFullscreen] = useState(false);\n  if (fullscreen) {\n    let element: any = document.documentElement;\n    if (element.requestFullscreen) {\n      element.requestFullscreen();\n    } else if (element.webkitRequestFullScreen) {\n      element.webkitRequestFullScreen();\n    } else if (element.mozRequestFullScreen) {\n      element.mozRequestFullScreen();\n    } else if (element.msRequestFullscreen) {\n      element.msRequestFullscreen();\n    }\n  } else if (isFullScreen()) {\n    let el: any = document\n    if (el.exitFullscreen) {\n      el.exitFullscreen();\n    } else if (el.webkitCancelFullScreen) {\n      el.webkitCancelFullScreen();\n    } else if (el.mozCancelFullScreen) {\n      el.mozCancelFullScreen();\n    } else if (el.msExitFullscreen) {\n      el.msExitFullscreen();\n    }\n  }\n  const handle = () => {\n    if (!isFullScreen() && fullscreen) {\n      setFullscreen(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('resize', handle);\n    return () => {\n      window.removeEventListener('resize', handle, false);\n    };\n  });\n\n  return useMemo(\n    () => (\n      <span\n        onClick={() => setFullscreen(!fullscreen)}\n        style={{ fontSize: 18, marginRight: 15, cursor: 'pointer' }}\n      >\n        <Icon type={fullscreen ? 'shrink' : 'arrows-alt'} />\n      </span>\n    ),\n    [fullscreen],\n  );\n};\n","import React, { useMemo, Fragment, useState } from 'react';\nimport Layout from '@uiw/react-layout';\nimport Button from '@uiw/react-button';\nimport classnames from 'classnames';\nimport DocumentTitle from '@uiw-admin/document-title';\nimport { RoutersProps } from \"@uiw-admin/router-control\"\nimport LogoHeader from './LogoHeader';\nimport Menu from './Menu';\nimport Bread from \"./Breadcrumb\"\nimport './index.css';\nimport { getMenu, BreadcrumbMap } from \"./utils\"\nimport BodyContent from \"./Content\"\nimport HeaderRightMenu, { HeaderRightProps } from './HeaderRightMenu'\nimport FullScreen from './FullScreen'\n\nconst { Header, Footer, Sider, Content } = Layout;\n\nexport type BasicLayoutProps = {\n  logo?: string;\n  projectName?: string;\n  /**\n   * 页脚\n   */\n  footer?: React.ReactElement;\n  routes?: RoutersProps[];\n  children?: React.ReactNode\n} & HeaderRightProps;\nexport default function BasicLayout(props: BasicLayoutProps) {\n  const {\n    routes = [],\n    footer,\n    projectName = 'UIW Admin',\n    profile = {},\n    menus = [],\n    onReloadAuth\n  } = props || {};\n\n  const [collapsed, setCollapsed] = useState(false);\n  /** 转换 用于 侧边路由展示 */\n  const routeData = getMenu(routes);\n\n  const footerView = useMemo(() => <Footer>{footer}</Footer>, [footer]);\n\n  const Menus = React.useMemo(() => {\n    return <Menu collapsed={collapsed} routes={routeData} />\n  }, [JSON.stringify(routeData), collapsed])\n\n  const mapRoute = React.useMemo(() => {\n    return new BreadcrumbMap(routeData)\n  }, [JSON.stringify(routeData)])\n\n  const renderHeaderRightMenu = useMemo(() => {\n    return (\n      <div style={{ display: 'flex', justifyItems: 'center', alignItems: \"center\" }}>\n        {profile?.menuLeft}\n        <FullScreen />\n        <HeaderRightMenu onReloadAuth={onReloadAuth} profile={profile} menus={menus} />\n      </div>\n    )\n  }, [profile, menus])\n\n  return (\n    <Fragment>\n      <DocumentTitle title={projectName || ''} />\n      <Layout hasSider style={{ height: '100%' }}>\n        <Sider\n          collapsed={collapsed}\n          className={classnames('uiw-admin-global-sider-menu', {})}\n        >\n          <LogoHeader\n            collapsed={collapsed}\n            projectName={projectName}\n            logo={props.logo}\n          />\n          {Menus}\n        </Sider>\n        <Layout>\n          <Header className=\"uiw-admin-global-header\">\n            <div>\n              <Button\n                basic\n                icon={collapsed ? 'menu-unfold' : 'menu-fold'}\n                style={{ fontSize: 12, marginRight: 20 }}\n                onClick={() => setCollapsed(!collapsed)}\n              />\n              <Bread routeMap={mapRoute} />\n            </div>\n            {renderHeaderRightMenu}\n          </Header>\n          <Content className='uiw-admin-global-content'  >\n            <BodyContent>\n              {props.children}\n            </BodyContent>\n          </Content>\n          {footerView}\n        </Layout>\n      </Layout>\n    </Fragment>\n  );\n}\n","import React from 'react';\nimport BasicLayout from '@uiw-admin/basic-layouts';\nimport { Outlet } from \"react-router-dom\";\nimport { RoutersProps } from \"@uiw-admin/router-control\"\nimport { Badge, Icon } from 'uiw'\n\nimport useSWR from 'swr'\n\n\n// import LayoutTabs from \"@uiw-admin/layout-tabs\"\n// import Auth from \"@uiw-admin/authorized\"\n\ninterface BasicLayoutProps {\n  routes: RoutersProps[]\n}\n\nfunction BasicLayoutScreen(props: BasicLayoutProps = { routes: [] }) {\n  const { routes } = props\n  const { mutate } = useSWR([\"/api/reloadAuth\", { method: \"POST\" }], {\n    revalidateOnMount: false,\n    revalidateOnFocus: false,\n    onSuccess: (data) => {\n      if (data && data.code === 200) {\n        sessionStorage.setItem(\"token\", data.token)\n        sessionStorage.setItem(\"auth\", JSON.stringify(data.authList || []))\n        window.location.reload()\n      }\n    }\n  })\n\n\n\n  const basicLayoutProps = {\n    onReloadAuth: async () => mutate(),\n    routes: routes,\n    // 修改密码以及其他操作在项目中进行\n    menus: [\n      {\n        title: '欢迎来到uiw',\n        icon: \"smile\",\n        onClick: () => { }\n      },\n      {\n        title: '修改密码',\n        icon: \"setting\",\n        onClick: () => { }\n      }\n    ],\n    profile: {\n      avatar: require('../assets/head.png'),\n      menuLeft: (\n        <div style={{ marginRight: 15 }}>\n          <Badge count={66}>\n            <Icon type=\"bell\" color=\"#343a40\" style={{ fontSize: 20 }} />\n          </Badge>\n        </div >\n      )\n    }\n  }\n\n  // 验证是否登录的方式\n  // 1. 使用 Auth 组件\n  // 2. 路由中进行处理  path===\"/\" 的 element 外层包裹组件进行重定向 \n  // return (\n  //   <Auth >\n  //   <BasicLayout {...basicLayoutProps} {...props} >\n  //     <Outlet />\n  //     {/* <LayoutTabs routes={routes || []} /> */}\n  //   </BasicLayout>\n  //   </Auth>\n  // )\n  return (\n    <BasicLayout {...basicLayoutProps} {...props} >\n      <Outlet />\n      {/* <LayoutTabs routes={routes || []} /> */}\n    </BasicLayout>\n  )\n}\nexport default BasicLayoutScreen;\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n"],"names":["props","useEffect","document","child","React","logo","useMemo","src","alt","name","projectName","className","to","style","justifyContent","renderMenuItem","routes","key","icon","item","isAuth","Reflect","classnames","collapsed","matchPath","path","isOutside","usePortal","text","collapse","onClick","navigate","replace","location","useLocation","useNavigate","pathName","theme","inlineCollapsed","padding","routeMap","domList","getMenu","data","treeList","obj","constructor","breadcrumb","Map","flat","this","init","route","par","parent","height","overflow","children","menus","profile","onReloadAuth","menuData","title","fontSize","divider","menuView","width","render","otherProps","trigger","placement","content","avatar","size","isFullScreen","el","isFullscreenEnabled","useState","element","handle","setFullscreen","window","marginRight","cursor","type","fullscreen","Content","BasicLayout","routeData","footerView","footer","Menus","JSON","mapRoute","BreadcrumbMap","renderHeaderRightMenu","display","justifyItems","alignItems","hasSider","basic","setCollapsed","useSWR","method","revalidateOnMount","revalidateOnFocus","onSuccess","code","sessionStorage","setItem","token","stringify","authList","reload","mutate","basicLayoutProps","require","menuLeft","count","color","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","call","join","module","exports","default"],"sourceRoot":""}