/*! For license information please see 810.js.LICENSE.txt */
(self.webpackChunk_examples_base=self.webpackChunk_examples_base||[]).push([[810],{4810:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return H}});var r=t(3028),i=t(6976),o=t(2867),l=t(4103),s=t(1546),u=t(3763),c=t.n(u),a=t(7896),d=t(4218);var f=function(e){return void 0===e&&(e={}),(0,i.useEffect)((function(){document.title=e.title||""}),[e.title]),(0,d.jsx)(i.Fragment,{children:i.Children.toArray(e.children).map((function(e){return i.isValidElement(e)?i.cloneElement(e,(0,a.Z)({},e.props||{})):null}))})},m=t(1462),h=function(e){void 0===e&&(e={});var n=(0,i.useMemo)((function(){return e.logo&&(0,d.jsx)("img",{src:e.logo,alt:e.projectName||"logo"})}),[e.logo]),t=(0,i.useMemo)((function(){return e.projectName&&(0,d.jsx)("h1",{children:e.projectName})}),[e.projectName]);return(0,i.useMemo)((function(){return(0,d.jsx)("div",{className:"uiw-admin-global-title",children:(0,d.jsxs)(m.rU,{to:"/",style:e.collapsed?{justifyContent:"center"}:{},children:[n,!e.collapsed&&t]})})}),[e.collapsed])},p=t(5596),v=t(800);function x(e,n,t,r,o){return void 0===e&&(e=[]),e.map((function(e,l){var s={key:l,icon:e.icon},u=!0;return Reflect.has(e,"isAuth")&&(u=Reflect.get(e,"isAuth")),e.index||e.hideInMenu||!u||"*"===e.path?(0,d.jsx)(i.Fragment,{},l):(o&&(s.className=c()({"uiw-admin-global-sider-menu-collapsed":n})),(0,v.LX)({path:e.path},location.pathname)&&(s.active=!0),e.routes?(n&&(s.overlayProps={isOutside:!0,usePortal:!0}),(0,d.jsx)(p.Z.SubMenu,(0,a.Z)({},s,{text:e.name||"-",collapse:n,children:x(e.routes,n,t,r)}))):(0,d.jsx)(p.Z.Item,(0,a.Z)({},s,{onClick:function(){r(e.path,{replace:!0})},to:e.path,text:e.name||"-"})))}))}var j=function(e){void 0===e&&(e={});var n=e,t=n.routes,r=void 0===t?[]:t,i=n.collapsed,o=(0,v.TH)(),l=(0,v.s0)(),s=o.pathname;return(0,d.jsx)(p.Z,{theme:"dark",inlineCollapsed:!!i,style:{padding:"0 12px"},children:x(r,!!i,s,l,!0)})},g=t(6605),b=function(e){var n=e.routeMap,t=(0,v.TH)(),r=n.breadcrumb.get(t.pathname)||[];return(0,d.jsx)(g.aG,{children:null==r?void 0:r.map((function(e,n){return(0,d.jsx)(g.aG.Item,{children:e.name},n)}))})},F=t(9249),S=t(7371),k=t(1461),y=["element","component","children","path"];function w(e){void 0===e&&(e=[]);var n=[];return e.forEach((function(e){var t=(0,a.Z)({},e);if(e.routes){var r=w(t.routes);t.routes=r}if(e.path&&"*"!==e.path){var i=t.path,o=(0,k.Z)(t,y);n.push((0,a.Z)({},o,{path:i,key:i}))}})),n}var Z=function(){function e(n){(0,F.Z)(this,e),this.breadcrumb=new Map([]),this.flat=[],this.init(n)}return(0,S.Z)(e,[{key:"init",value:function(e,n){var t=this;e.forEach((function(e){var r=(n||[]).concat([e]);e.routes&&t.init(e.routes,r),e.path&&"*"!==e.path&&t.breadcrumb.set(e.path,r),t.flat.push(e)}))}}]),e}(),C=function(e){return(0,d.jsx)("div",{style:{height:"100%",overflow:"auto"},children:e.children})},N=t(8777),E=["title","icon","onClick","divider","render"];function R(e){var n=(0,v.s0)(),t=e.menus,r=void 0===t?[]:t,o=e.profile,l=void 0===o?{}:o,s=e.onReloadAuth,u=[{title:(0,d.jsxs)("span",{style:{fontSize:15},children:["\u8d26\u53f7 ",(null==l?void 0:l.userName)||"admin"]}),icon:"user"},{divider:!0},{title:"\u5237\u65b0\u6743\u9650",icon:"reload",onClick:function(){return s()}},{title:"\u4fee\u6539\u5bc6\u7801",icon:"setting",onClick:function(){}}].concat((0,N.Z)(r),[{divider:!0},{title:"\u9000\u51fa\u767b\u5f55",icon:"logout",onClick:function(){return n("/login",{replace:!0})}}]),c=(0,d.jsx)("div",{style:{width:150},children:(0,d.jsx)(g.v2,{children:u.map((function(e,n){var t=e.title,r=e.icon,o=e.onClick,l=e.divider,s=e.render,u=(0,k.Z)(e,E);return l?(0,d.jsx)(g.v2.Divider,{},n):s?(0,d.jsx)(i.Fragment,{children:s},n):(0,d.jsx)(g.v2.Item,(0,a.Z)({text:t,icon:r},u,{onClick:o&&o}),n)}))})});return(0,d.jsx)("div",{className:"uiw-global-header-menu",children:(0,d.jsx)("span",{className:"uiw-global-header-menu",children:(0,d.jsx)(g.J2,{trigger:"click",placement:"bottomRight",content:c,children:null!=l&&l.avatar?(0,d.jsx)("img",{src:l.avatar}):(0,d.jsx)(g.qE,{icon:"user",size:"default"})})})})}function z(){var e=document;return e.mozFullScreen||e.webkitIsFullScreen||e.webkitFullScreen||e.msFullScreen}var A=function(){if(!function(){var e=document;return e.fullscreenEnabled||e.mozFullScreenEnabled||e.webkitFullscreenEnabled||e.msFullscreenEnabled}())return null;var e=(0,i.useState)(!1),n=(0,o.Z)(e,2),t=n[0],r=n[1];if(t){var l=document.documentElement;l.requestFullscreen?l.requestFullscreen():l.webkitRequestFullScreen?l.webkitRequestFullScreen():l.mozRequestFullScreen?l.mozRequestFullScreen():l.msRequestFullscreen&&l.msRequestFullscreen()}else if(z()){var s=document;s.exitFullscreen?s.exitFullscreen():s.webkitCancelFullScreen?s.webkitCancelFullScreen():s.mozCancelFullScreen?s.mozCancelFullScreen():s.msExitFullscreen&&s.msExitFullscreen()}var u=function(){!z()&&t&&r(!1)};return(0,i.useEffect)((function(){return window.addEventListener("resize",u),function(){window.removeEventListener("resize",u,!1)}})),(0,i.useMemo)((function(){return(0,d.jsx)("span",{onClick:function(){return r(!t)},style:{fontSize:18,marginRight:15,cursor:"pointer"},children:(0,d.jsx)(g.JO,{type:t?"shrink":"arrows-alt"})})}),[t])},M=l.Z.Header,q=l.Z.Footer,I=l.Z.Sider,O=l.Z.Content;function J(e){var n=e||{},t=n.routes,r=void 0===t?[]:t,u=n.footer,a=n.projectName,m=void 0===a?"UIW Admin":a,p=n.profile,v=void 0===p?{}:p,x=n.menus,g=void 0===x?[]:x,F=n.onReloadAuth,S=(0,i.useState)(!1),k=(0,o.Z)(S,2),y=k[0],N=k[1],E=w(r),z=(0,i.useMemo)((function(){return(0,d.jsx)(q,{children:u})}),[u]),J=i.useMemo((function(){return(0,d.jsx)(j,{collapsed:y,routes:E})}),[JSON.stringify(E),y]),L=i.useMemo((function(){return new Z(E)}),[JSON.stringify(E)]),_=(0,i.useMemo)((function(){return(0,d.jsxs)("div",{style:{display:"flex",justifyItems:"center",alignItems:"center"},children:[null==v?void 0:v.menuLeft,(0,d.jsx)(A,{}),(0,d.jsx)(R,{onReloadAuth:F,profile:v,menus:g})]})}),[v,g]);return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(f,{title:m||""}),(0,d.jsxs)(l.Z,{hasSider:!0,style:{height:"100%"},children:[(0,d.jsxs)(I,{collapsed:y,className:c()("uiw-admin-global-sider-menu",{}),children:[(0,d.jsx)(h,{collapsed:y,projectName:m,logo:e.logo}),J]}),(0,d.jsxs)(l.Z,{children:[(0,d.jsxs)(M,{className:"uiw-admin-global-header",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(s.Z,{basic:!0,icon:y?"menu-unfold":"menu-fold",style:{fontSize:12,marginRight:20},onClick:function(){return N(!y)}}),(0,d.jsx)(b,{routeMap:L})]}),_]}),(0,d.jsx)(O,{className:"uiw-admin-global-content",children:(0,d.jsx)(C,{children:e.children})}),z]})]})]})}var L=t(3796),_=t(2110);function P(){return(0,_.Z)("/api/reloadAuth",{method:"POST"})}var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{routes:[]},n=e.routes,t=(0,L.Z)(P,{manual:!0,onSuccess:function(e){200===e.code&&(sessionStorage.setItem("token",e.token),sessionStorage.setItem("auth",JSON.stringify(e.authList||[])),window.location.reload())}}),i=t.run,o={onReloadAuth:function(){return i()},routes:n,menus:[{title:"\u6b22\u8fce\u6765\u5230uiw",icon:"smile",onClick:function(){}}],profile:{avatar:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fup.enterdesk.com%2Fedpic%2Ffd%2Ff1%2Fda%2Ffdf1dacb8ff0b8f13ed29bcbee42f328.jpeg&refer=http%3A%2F%2Fup.enterdesk.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1644762318&t=a0151d354747c67b096619184d7142d8",menuLeft:(0,d.jsx)("div",{style:{marginRight:15},children:(0,d.jsx)(g.Ct,{count:66,children:(0,d.jsx)(g.JO,{type:"bell",color:"#343a40",style:{fontSize:20}})})})}};return(0,d.jsx)(J,(0,r.Z)((0,r.Z)((0,r.Z)({},o),e),{},{children:(0,d.jsx)(v.j3,{})}))}},3763:function(e,n){var t;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var o=typeof t;if("string"===o||"number"===o)e.push(t);else if(Array.isArray(t)){if(t.length){var l=i.apply(null,t);l&&e.push(l)}}else if("object"===o)if(t.toString===Object.prototype.toString)for(var s in t)r.call(t,s)&&t[s]&&e.push(s);else e.push(t.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(t=function(){return i}.apply(n,[]))||(e.exports=t)}()}}]);
//# sourceMappingURL=810.js.map