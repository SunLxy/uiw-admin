"use strict";(self.webpackChunk_examples_base=self.webpackChunk_examples_base||[]).push([[524],{2524:function(e,t,l){l.r(t),l.d(t,{default:function(){return m}});var i=l(6976),n=l(6605),a=l(2729),r=l(4218),d=void 0,s=function(e){var t=e.updateData;return(0,r.jsx)(n.l0,{onSubmit:function(e){e.initial;var l=e.current;return t({current:1,filter:l})},fields:{name:{labelClassName:"fieldLabel",labelStyle:{width:60},inline:!0,label:"\u59d3\u540d",children:(0,r.jsx)(n.II,{})},age:{labelClassName:"fieldLabel",labelStyle:{width:60},inline:!0,label:"\u540d\u5b57",children:(0,r.jsx)(n.II,{})},address:{labelClassName:"fieldLabel",labelStyle:{width:60},inline:!0,label:"\u5730\u5740",children:(0,r.jsx)(n.II,{})}},children:function(e){var l=e.fields,i=(e.state,e.canSubmit),a=e.resetForm;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.X2,{gutter:10,style:{marginBottom:10},children:[(0,r.jsx)(n.JX,{children:l.name}),(0,r.jsx)(n.JX,{children:l.age}),(0,r.jsx)(n.JX,{children:l.address})]}),(0,r.jsxs)(n.X2,{gutter:10,children:[(0,r.jsx)(n.JX,{}),(0,r.jsxs)(n.JX,{fixed:!0,align:"bottom",children:[(0,r.jsx)(n.zx,{disabled:!i(),type:"primary",htmlType:"submit",children:"\u641c\u7d22"}),(0,r.jsx)(n.zx,{type:"danger",onClick:function(){a(),t({filter:{}})},children:" \u91cd\u7f6e "})]})]})]})}})},o=l(9939),u=function(e){var t=e.updateData,l=(0,a.v9)((function(e){return e})).demo,i=l.drawerVisible,d=l.tableType;return(0,r.jsx)(o.PB,{width:800,title:"add"===d?"\u65b0\u589e":"\u7f16\u8f91",visible:i,onClose:function(){return t({drawerVisible:!1})},buttons:[{label:"\u53d6\u6d88",type:"danger",onPress:function(){return t({drawerVisible:!1})}}],children:(0,r.jsx)(n.l0,{onSubmit:function(e){e.initial;var t=e.current;console.log("current",t)},fields:{firstName:{labelClassName:"fieldLabel",labelStyle:{width:60},inline:!0,label:"\u59d3\u6c0f",initialValue:"\u5468",children:(0,r.jsx)(n.II,{})},lastName:{labelClassName:"fieldLabel",labelStyle:{width:60},initialValue:"\u5148\u751f",inline:!0,label:"\u540d\u5b57",children:(0,r.jsx)(n.II,{})},email:{labelClassName:"fieldLabel",labelStyle:{width:60},validator:function(e){return e&&e.length<2?"Password must be 8+ characters":null},initialValue:"42309872@qq.com",inline:!0,label:"Email",children:(0,r.jsx)(n.II,{})},select:{labelClassName:"fieldLabel",labelStyle:{width:60},initialValue:4,inline:!0,label:"\u9009\u62e9\u5668",children:(0,r.jsxs)(n.Ph,{children:[(0,r.jsx)(n.Ph.Option,{children:"\u8bf7\u9009\u62e9"}),[{value:1,label:"\u82f9\u679c"},{value:2,label:"\u897f\u74dc"},{value:3,label:"\u9999\u8549"},{value:4,label:"\u4e1c\u5317\u5927\u51bb\u68a8"}].map((function(e){var t=e.label,l=e.value;return(0,r.jsx)(n.Ph.Option,{value:l,children:t},l)}))]})}},children:function(e){var t=e.fields,l=(e.state,e.canSubmit);return(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.X2,{gutter:10,style:{marginBottom:10},children:[(0,r.jsx)(n.JX,{children:t.firstName}),(0,r.jsx)(n.JX,{children:t.lastName}),(0,r.jsx)(n.JX,{children:t.email})]}),(0,r.jsx)(n.X2,{gutter:10,children:(0,r.jsx)(n.JX,{children:t.select})}),(0,r.jsxs)(n.X2,{gutter:10,children:[(0,r.jsx)(n.JX,{}),(0,r.jsx)(n.JX,{fixed:!0,align:"bottom",children:(0,r.jsx)(n.zx,{disabled:!l(),type:"primary",htmlType:"submit",children:"\u63d0\u4ea4"})})]})]})}})})},c=l(3796),h=l(3028),f=l(2110);function b(e){return(0,f.Z)("/api/selectDemoPage",{method:"POST",body:(0,h.Z)({},e)})}var x=void 0,m=function(){var e,t=(0,a.I0)(),l=(0,a.v9)((function(e){return e})).demo,o=l.current,h=l.pageSize,f=l.total,m=l.dataSource,p=l.filter,y=function(e){t({type:"demo/updateState",payload:e})},j=(0,c.Z)(b,{manual:!0,onSuccess:function(e){if(200===(null===e||void 0===e?void 0:e.code)){var t=e.data;y({dataSource:(null===t||void 0===t?void 0:t.rows)||[],total:null===t||void 0===t?void 0:t.total})}}}),v=j.run,g=j.loading;function w(e,t){y({isView:"view"===e,tableType:e}),"add"!==e&&"view"!==e&&"edit"!==e||y({drawerVisible:!0})}return i.useEffect((function(){v({page:o,pageSize:h,queryData:p})}),[o,p,h,v]),(0,r.jsx)(n.aN,{loading:g,size:"large",style:{display:"block"},children:(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(n.Zb,{children:(0,r.jsx)(s,{updateData:y})}),(0,r.jsx)("div",{style:{marginTop:14}}),(0,r.jsx)(n.Zb,{children:(0,r.jsx)(n.X2,{gutter:10,children:(0,r.jsxs)(n.JX,{children:[(0,r.jsx)(n.zx,{style:{width:60},type:"primary",onClick:w.bind(x,"add"),children:"\u65b0\u589e"}),(0,r.jsx)(n.zx,{style:{width:60},type:"danger",onClick:w.bind(x,"export"),children:" \u5bfc\u51fa "}),(0,r.jsx)(n.zx,{style:{width:60},type:"light",onClick:w.bind(x,"export"),children:" \u5bfc\u5165 "})]})})}),(0,r.jsx)("div",{style:{marginTop:14}}),(0,r.jsx)(n.Zb,{children:(0,r.jsx)(n.iA,{columns:(e={handleEditTable:w},[{title:"\u59d3\u540d",key:"name"},{title:"\u5e74\u9f84",key:"age"},{title:"\u5730\u5740",key:"info"},{title:"\u64cd\u4f5c",key:"edit",width:98,render:function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(n.zx,{size:"small",type:"danger",onClick:e.handleEditTable.bind(d,"edit"),children:"\u7f16\u8f91"}),(0,r.jsx)(n.zx,{size:"small",type:"success",onClick:e.handleEditTable.bind(d,"view"),children:"\u67e5\u770b"})]})}}]),data:m,footer:(0,r.jsx)(n.tl,{current:o,pageSize:h,total:f,divider:!0,onChange:function(e,t,l){return y({current:e,pageSize:l})}})})}),(0,r.jsx)(u,{updateData:y})]})})}},9939:function(e,t,l){l.d(t,{PB:function(){return g},QV:function(){return m},x6:function(){return p}});var i=l(7896),n=l(6976),a=l(6605),r=l(4218),d=function(e){var t=e.children,l=e.loading,i=void 0!==l&&l;return(0,r.jsx)(a.aN,{loading:i,style:{display:"block"},bgColor:"rgba(255, 255, 255, 0.4)",children:(0,r.jsx)(r.Fragment,{children:t})})},s=l(2867),o=l(5642),u=l(7303),c=l.n(u);var h={200:"\u670d\u52a1\u5668\u6210\u529f\u8fd4\u56de\u8bf7\u6c42\u7684\u6570\u636e\u3002",201:"\u65b0\u5efa\u6216\u4fee\u6539\u6570\u636e\u6210\u529f\u3002",202:"\u4e00\u4e2a\u8bf7\u6c42\u5df2\u7ecf\u8fdb\u5165\u540e\u53f0\u6392\u961f\uff08\u5f02\u6b65\u4efb\u52a1\uff09\u3002",204:"\u5220\u9664\u6570\u636e\u6210\u529f\u3002",400:"\u53d1\u51fa\u7684\u8bf7\u6c42\u6709\u9519\u8bef\uff0c\u670d\u52a1\u5668\u6ca1\u6709\u8fdb\u884c\u65b0\u5efa\u6216\u4fee\u6539\u6570\u636e\u7684\u64cd\u4f5c\u3002",401:"\u7528\u6237\u6ca1\u6709\u6743\u9650\uff08\u4ee4\u724c\u3001\u7528\u6237\u540d\u3001\u5bc6\u7801\u9519\u8bef\uff09\u3002",403:"\u7528\u6237\u5f97\u5230\u6388\u6743\uff0c\u4f46\u662f\u8bbf\u95ee\u662f\u88ab\u7981\u6b62\u7684\u3002",404:"\u53d1\u51fa\u7684\u8bf7\u6c42\u9488\u5bf9\u7684\u662f\u4e0d\u5b58\u5728\u7684\u8bb0\u5f55\uff0c\u670d\u52a1\u5668\u6ca1\u6709\u8fdb\u884c\u64cd\u4f5c\u3002",406:"\u8bf7\u6c42\u7684\u683c\u5f0f\u4e0d\u53ef\u5f97\u3002",410:"\u8bf7\u6c42\u7684\u8d44\u6e90\u88ab\u6c38\u4e45\u5220\u9664\uff0c\u4e14\u4e0d\u4f1a\u518d\u5f97\u5230\u7684\u3002",422:"\u5f53\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u65f6\uff0c\u53d1\u751f\u4e00\u4e2a\u9a8c\u8bc1\u9519\u8bef\u3002",500:"\u670d\u52a1\u5668\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u670d\u52a1\u5668\u3002",502:"\u7f51\u5173\u9519\u8bef\u3002",503:"\u670d\u52a1\u4e0d\u53ef\u7528\uff0c\u670d\u52a1\u5668\u6682\u65f6\u8fc7\u8f7d\u6216\u7ef4\u62a4\u3002",504:"\u7f51\u5173\u8d85\u65f6\u3002"};function f(e,t){void 0===t&&(t={});var l=t.method||"GET",n={url:e,method:l,data:t.body,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"}};return/(GET)/.test(l)&&(n.url=function(e,t){var l=e,i=[];return Object.keys(t).forEach((function(e){return i.push(e+"="+t[e])})),0===Object.keys(t).length?e:(!1===/\?/.test(l)?l=l+"?"+i.join("&"):l+="&"+i.join("&"),l)}(e,(0,i.Z)({},t.body)),delete n.body),c().request(n).then((function(e){return e.data})).catch((function(e){var t=e.response;if(t.status>=200&&t.status<300)return t;var l=t.status,i=h[l]||t.statusText,n=new Error(i);if(n.name=t.status,t.data)return t.data;throw n}))}var b=(0,n.createContext)({data:[]}),x=function(e){var t=e.style,l=e.columns,i=(0,n.useState)(1),d=(0,s.Z)(i,2),u=d[0],c=d[1],h=(0,n.useContext)(b),x=h.formatData,m=h.updateStore,p=h.query,y=h.key,j=(0,o.ZP)([y,{method:"POST",body:p?p(u,10):{page:u,pageSize:10}}],f),v=j.data;j.error,j.isValidating;return(0,n.useEffect)((function(){m({data:null==v?void 0:v.data,total:null==v?void 0:v.total})}),[JSON.stringify(v)]),(0,r.jsx)(a.iA,{columns:l,data:x&&v?x(v).data:null==v?void 0:v.data,style:t,footer:(0,r.jsx)(a.tl,{current:u,pageSize:10,total:x&&v?x(v).total:null==v?void 0:v.total,divider:!0,onChange:function(e){c(e)}})})},m=function(e){var t=e.table,l=e.columns,s=e.btns,o=void 0===s?[]:s,u=t.key,c=t.data,h=t.reset,f=t.refersh,m=t.updateStore,p=t.formatData,y=t.query,j=(0,n.useMemo)((function(){return{data:[],reset:h,refersh:f,key:u,updateStore:m,formatData:p,query:y}}),[JSON.stringify(c),h,f,u,m,p,y]);return(0,r.jsx)(b.Provider,{value:j,children:(0,r.jsxs)(d,{children:[(0,r.jsx)(a.l0,{style:{background:"#fff",paddingBottom:5},resetOnSubmit:!1,onSubmit:function(e){e.initial,e.current},onSubmitError:function(e){return e.filed?(0,i.Z)({},e.filed):null},fields:{username:{labelClassName:"fieldLabel",labelStyle:{width:160},labelFor:"username",label:"\u7528\u6237\u540d",children:(0,r.jsx)(a.II,{preIcon:"user",id:"username",placeholder:"\u7528\u6237\u540d: admin"})},password:{labelClassName:"fieldLabel",labelStyle:{width:60},label:"\u7528\u6237\u540d",labelFor:"password",children:(0,r.jsx)(a.II,{preIcon:"lock",id:"password",type:"password",placeholder:"\u5bc6\u7801: admin"})}},children:function(e){var t=e.fields,l=(e.state,e.canSubmit),i=e.resetForm;return(0,r.jsx)("div",{children:(0,r.jsxs)(a.X2,{gutter:10,children:[(0,r.jsx)(a.JX,{fixed:!0,children:t.username}),(0,r.jsx)(a.JX,{fixed:!0,children:t.password}),(0,r.jsxs)(a.JX,{style:{marginTop:31},children:[(0,r.jsx)(a.zx,{disabled:!l(),type:"primary",htmlType:"submit",children:"\u63d0\u4ea4"}),(0,r.jsx)(a.zx,{type:"danger",onClick:i,children:"\u91cd\u7f6e\u8868\u5355"})]})]})})}}),o.length>0&&(0,r.jsx)("div",{style:{marginTop:14,background:"#fff",padding:10},children:o.map((function(e,t){return(0,r.jsx)(a.zx,(0,i.Z)({style:{marginRight:5}},e,{children:e.label}),t.toString())}))}),(0,r.jsx)(x,{columns:l})]})})},p=function(e,t){void 0===t&&(t={});var l=t,a=l.formatData,r=l.query,d=(0,n.useState)({total:1,data:[],selectChecked:[],selectCheckedRows:[]}),o=(0,s.Z)(d,2),u=o[0],c=o[1];return(0,i.Z)({key:e,reset:function(){},refersh:function(){},formatData:a,query:r,updateStore:function(e){c((0,i.Z)({},u,e))}},u)},y=l(1461),j=["visible","title","onClose","width","buttons","children"];function v(e){var t=e.visible,l=e.title,n=void 0===l?"":l,d=e.onClose,s=void 0===d?null:d,o=e.width,u=void 0===o?800:o,c=e.buttons,h=void 0===c?[]:c,f=e.children,b=(0,y.Z)(e,j);return(0,r.jsx)(a.dy,(0,i.Z)({title:n,isOpen:t,onClose:s&&s,size:u,bodyStyle:{padding:"0 10px 45px 10px"}},b,{footer:h.map((function(e,t){var l=e.label,i=void 0===l?"":l,n=e.onPress,d=e.show,s=void 0===d||d,o=e.loading,u=e.type,c=void 0===u?"primary":u,h=e.width,f=void 0===h?60:h,b=e.size,x=void 0===b?"default":b;return s&&(0,r.jsx)(a.zx,{style:{width:f},type:c,size:x,onClick:n&&n,loading:o,children:i},t)})),children:f}))}var g=(0,n.memo)(v)}}]);
//# sourceMappingURL=524.js.map