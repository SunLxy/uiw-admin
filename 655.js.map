{"version":3,"file":"655.js","mappings":"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","sources":["webpack://@examples/base/./src/component/QuickForm/widgets/index.tsx","webpack://@examples/base/./src/component/QuickForm/formdom.tsx","webpack://@examples/base/./src/component/QuickForm/utils.tsx","webpack://@examples/base/./src/component/QuickForm/index.tsx","webpack://@examples/base/./src/pages/Demo/Detail/index.tsx","webpack://@examples/base/./src/pages/Demo/index.tsx","webpack://@examples/base/./src/servers/demo.ts","webpack://@examples/base/../../packages/components/src/Skeleton/index.tsx","webpack://@examples/base/../../packages/components/src/ProTable/hooks.ts","webpack://@examples/base/../../packages/components/src/ProTable/BaseTable.tsx","webpack://@examples/base/../../packages/components/src/ProTable/widgets/Select.tsx","webpack://@examples/base/../../packages/components/src/ProTable/widgets/Radio.tsx","webpack://@examples/base/../../packages/components/src/ProTable/BaseForm.tsx","webpack://@examples/base/../../packages/components/src/ProTable/index.tsx","webpack://@examples/base/../../packages/components/src/ProTable/useTable.ts","webpack://@examples/base/../../packages/components/src/ProDrawer/index.tsx"],"sourcesContent":["import React from 'react';\nimport { Input, Select, Radio, RadioGroup, Checkbox } from 'uiw';\nimport { FormOptionsProps } from '../index'\nimport { useController, useFormContext } from 'react-hook-form'\n\nfunction WidgetsItem({\n  // formDatas 表单项参数\n  name: labelName,\n  type,\n  render,\n  initValue,\n  rules,\n  options,\n  attributes,\n  // 组件api监听表单值变化\n  onItemChange,\n  // react-hook-form/useForm\n  // control,\n  // trigger\n}: any) {\n\n  const { control, trigger } = useFormContext()\n\n  const { field: { onChange, name, onBlur, value, ref } } = useController({\n    name: labelName,\n    control,\n    rules: rules,\n    defaultValue: initValue,\n  });\n\n  const widgetsProps = {\n    name: name,\n    ref: ref,\n    onChange: (value: any) => {\n      onChange(value)\n      trigger(name)\n      onItemChange?.(name, value)\n    },\n    onBlur: onBlur(),\n    value: value,\n    ...attributes\n  }\n\n  const dom = () => {\n    if (type === 'input') {\n      return (\n        <div style={{ flex: 1 }}>\n          <Input\n            ref={ref}\n            name={name}\n            value={value || ''}\n            onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n              onChange(event)\n              trigger(name)\n              onItemChange?.(name, event)\n            }}\n            onBlur={() => {\n              onBlur()\n              trigger(name)\n            }}\n            {...attributes}\n          />\n        </div>\n      )\n    }\n    if (type === 'select') {\n      return (\n        <div style={{ flex: 1 }}>\n          <Select {...widgetsProps}>\n            <Select.Option>{attributes?.placeholder || '请选择'}</Select.Option>\n            {options.map(({ disabled, label, value }: FormOptionsProps) => <Select.Option disabled={disabled} value={value} key={value}>{label}</Select.Option>)}\n          </Select>\n        </div>\n      )\n    }\n    if (type === 'radio') {\n      return (\n        <div style={{ flex: 1 }}>\n          <RadioGroup {...widgetsProps}>\n            {options.map(({ disabled, label, value }: FormOptionsProps) => <Radio disabled={disabled} value={value}>{label}</Radio>)}\n          </RadioGroup>\n        </div>\n      )\n    }\n    if (type === 'checkbox') {\n      return (\n        <div style={{ flex: 1 }}>\n          <Checkbox.Group {...widgetsProps}>\n            {options.map(({ disabled, label, value }: FormOptionsProps) => <Checkbox disabled={disabled} value={value}>{label}</Checkbox>)}\n          </Checkbox.Group>\n        </div>\n      )\n    }\n    // 自定义组件\n    if (type === 'render') {\n      return render?.({ name, ref, onChange, onBlur })\n    }\n    return null\n  }\n\n  return dom()\n}\n\nexport default WidgetsItem","import React from 'react';\nimport { QuickFormProps } from './'\nimport { Row, Col } from 'uiw'\nimport WidgetsItem from './widgets'\nimport { useFormContext } from 'react-hook-form'\nimport './style/form-item.less';\n\nconst FromDom = ({\n  formDatas = [],\n  onItemChange,\n  span = 3,\n}: QuickFormProps) => {\n  const { formState: { errors } } = useFormContext()\n  return (\n    <div className=\"w-form-grid\" style={{ gridTemplateColumns: `repeat(${span}, 1fr)` }}>\n      {\n        formDatas.map(item => {\n          const childrenProps = { ...item, onItemChange }\n          const children = <WidgetsItem {...childrenProps} />\n          // 隐藏不显示\n          if (item?.hide) return null\n          return (\n            <div key={item.name}>\n              <Row>\n                <Col fixed className=\"w-form-label\">\n                  {item?.rules && <span style={{ color: \"#ff4d4f\", marginRight: 5 }}>*</span>}\n                  <span>{item?.label}</span>\n                </Col>\n              </Row>\n              <Row>{children}</Row>\n              <Row>\n                {errors[item.name] && errors[item.name].message && (\n                  <Col className=\"w-form-label-error\"> {errors[item.name].message}</Col>\n                )}\n              </Row>\n            </div>\n          )\n        })\n      }\n    </div>\n  )\n}\nexport default FromDom","const type = (data: any) => Object.prototype.toString.call(data).slice(8, -1).toLowerCase()\n\nconst isObject = (value: any) => value && type(value) === 'object'\n\nconst hasErrors = (errors: any) => isObject(errors) && !!Object.keys(errors).length\n\nexport {\n  type,\n  isObject,\n  hasErrors\n}","import React, { useImperativeHandle } from 'react';\nimport { useForm, FieldErrors, RefCallBack, Noop, FormProvider, UseFormReturn, FieldValues } from 'react-hook-form'\nimport FormDom from './formdom'\nimport { hasErrors } from './utils'\n\nexport interface RenderCallBackProps {\n  name: any;\n  ref: RefCallBack;\n  onChange: (...event: any[]) => void;\n  onBlur: Noop\n}\n\nexport interface FormOptionsProps {\n  label: string;\n  value: string | number;\n  disabled?: boolean;\n}\n\nexport interface FormDataProps {\n  /** 表单元素标题 */\n  label?: string;\n  /** 表单元素字段名称 */\n  name: string;\n  /** 表单元素类型 */\n  type: 'input' | 'select' | 'radio' | 'checkbox' | 'render';\n  /** 表单元素值，可以是默认值 */\n  initValue?: any | any[];\n  /** 数据化选项内容, type为 radio、checkbox、select 生效 */\n  options?: FormOptionsProps[];\n  /** 校验规则 */\n  rules?: FieldErrors\n  /** 是否显示 */\n  hide?: boolean;\n  attributes?: any;\n  render?: (attr: RenderCallBackProps) => JSX.Element\n}\n\nexport interface QuickFormProps {\n  /** 是否是查看模式 */\n  readonly?: boolean;\n  /** 表单标题 */\n  title?: string\n  /** 表单集合 */\n  formDatas: FormDataProps[];\n  setOptions?: {\n    submitErrorCheck?: boolean; //是否检查\n    processValuesFunc?: (value: { [x: string]: any }) => void // 接收数据\n  },\n  /** 表单值变化 */\n  onItemChange?: (name: string, value: string | number | any | any[]) => Promise<void>\n  /** 表单横向排列个数 */\n  span?: number;\n}\n\n\n\nfunction Index(props: QuickFormProps, ref: any) {\n\n  const methods: UseFormReturn<FieldValues, object> = useForm()\n\n  const { watch, getValues, setValue, trigger, formState: { errors }, reset, setError, clearErrors } = methods\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const defaultOptions = {\n    submitErrorCheck: true, // 提交错误检查\n    processValuesFunc: null, // 处理 values 数据\n    ...props.setOptions\n  };\n\n  // 暴露给父组件调用的方法\n  useImperativeHandle(ref, () => ({\n    setValue: async (name: string, value?: any, options?: any) => setValue(name, value, options),\n    getValues: async () => {\n      if (defaultOptions.submitErrorCheck) {\n        await trigger()\n        if (hasErrors(errors)) {\n          return null\n        }\n      }\n      const values = getValues()\n      if (typeof defaultOptions.processValuesFunc === 'function') {\n        return defaultOptions.processValuesFunc(values)\n      }\n      return values\n    },\n    errors: async () => errors,\n    reset: async (...args: any) => reset(...args),\n    trigger: async () => trigger(),\n    setError: (name: string, error: FieldErrors) => setError(name, error),\n    clearErrors: (name?: string | string[] | undefined) => clearErrors(name),\n    watch: async () => watch()\n\n  }), [setValue, defaultOptions, getValues, trigger, errors, reset, setError, clearErrors, watch]);\n\n  return (\n    <FormProvider {...methods} >\n      {props?.title && <h3 style={{ marginTop: 10, marginBottom: 10 }}>{props?.title}</h3>}\n      <FormDom {...props} />\n    </FormProvider>\n  )\n}\n\n\nexport default React.forwardRef(Index)","import React, { useRef, forwardRef } from 'react';\nimport QuickForm, { RenderCallBackProps } from '../../../component/QuickForm'\nimport { ProDrawer } from '@uiw-admin/components'\nimport { Checkbox, Col } from 'uiw'\nimport { useSelector, useDispatch } from 'react-redux';\nimport { RootState, Dispatch } from '@uiw-admin/models';\n// import { insert, update } from 'servers/demo'\n// import useSWR from 'swr'\n\ninterface DetailProps {\n  updateData?: any\n}\n\n// 自定义组件\nconst NewCheckBox = forwardRef(({ name, onChange, onBlur }: RenderCallBackProps, ref) => {\n  return (\n    <Col>\n      <Checkbox value=\"checkbox\" name={name} onChange={onChange} onBlur={onBlur} />\n    </Col>\n  )\n})\n\nconst Detail = ({ updateData }: DetailProps) => {\n  const formRef = useRef<any>()\n  const dispatch = useDispatch<Dispatch>();\n  const { demo: { drawerVisible, tableType, queryInfo } } = useSelector((state: RootState) => state);\n\n  const onClose = () => dispatch({ type: \"demo/clean\" })\n\n  return (\n    <ProDrawer\n      width={800}\n      title={tableType === 'add' ? '新增' : tableType === 'edit' ? '编辑' : '查看'}\n      visible={drawerVisible}\n      onClose={onClose}\n      buttons={\n        [\n          {\n            label: \"保存\",\n            onPress: async () => {\n              await formRef?.current?.trigger()\n              const errors = await formRef?.current?.errors()\n              const values = await formRef?.current?.getValues()\n              console.log('errors', errors, 'values', values)\n              if (errors) return\n              dispatch({ type: tableType === 'add' ? \"demo/insert\" : \"demo/update\", payload: values })\n            }\n          }\n        ]\n      }\n    >\n      <QuickForm\n        ref={formRef}\n        title=\"基础信息\"\n        onItemChange={async (name, value) => console.log('name', name, 'value', value)}\n        formDatas={[\n          {\n            type: 'input',\n            name: 'firstName',\n            label: \"姓氏\",\n            initValue: queryInfo?.firstName,\n            attributes: {\n              placeholder: '请输入姓氏',\n            },\n            rules: { required: '请输入姓氏' },\n          },\n          {\n            type: 'input',\n            name: 'lastName',\n            label: \"名字\",\n            initValue: queryInfo?.lastName,\n            attributes: {\n              placeholder: '请输入名字',\n            },\n            rules: { required: '请输入名字' },\n          },\n          {\n            type: 'select',\n            name: 'select',\n            label: \"年龄\",\n            initValue: queryInfo?.select,\n            options: [\n              { value: 1, label: '苹果' },\n              { value: 2, label: '西瓜' },\n              { value: 3, label: '香蕉' },\n              { value: 4, label: '东北大冻梨' },\n            ],\n            attributes: {\n              placeholder: '请选择水果',\n            }\n          },\n          {\n            type: \"render\",\n            label: \"自定义组件\",\n            name: \"id1\",\n            rules: { required: '自定义组件' },\n            render: (attr) => <NewCheckBox {...attr} />\n          },\n          {\n            type: 'radio',\n            name: 'id2',\n            label: \"性别\",\n            initValue: queryInfo?.id2,\n            options: [\n              { value: 1, label: '男' },\n              { value: 2, label: '女' },\n              { value: 3, label: '人妖' },\n            ],\n          },\n          {\n            type: 'checkbox',\n            name: 'id3',\n            label: \"菜系\",\n            initValue: queryInfo?.id2,\n            options: [\n              { value: 1, label: '四川菜' },\n              { value: 2, label: '湖北菜' },\n              { value: 3, label: '西北菜' },\n            ],\n          },\n        ]}\n      />\n    </ProDrawer>\n  )\n}\n\nexport default Detail","import React from 'react';\nimport { Button } from 'uiw'\nimport { useDispatch } from 'react-redux';\nimport { Dispatch } from '@uiw-admin/models';\nimport { ProTable, useTable } from '@uiw-admin/components';\nimport { selectPage } from '@/servers/demo'\nimport Detail from './Detail'\n\nconst Demo = () => {\n  const dispatch = useDispatch<Dispatch>();\n\n  const updateData = (payload: any) => {\n    dispatch({\n      type: 'demo/updateState',\n      payload,\n    });\n  };\n\n  const table = useTable(selectPage, {\n    // 格式化接口返回的数据，必须返回{total 总数, data: 列表数据}的格式\n    formatData: (data: any) => {\n      return {\n        total: data.data.total,\n        data: data.data.rows || [],\n      };\n    },\n    // 格式化查询参数 会接收到pageIndex 当前页  pageSize 页码\n    query: (pageIndex: number) => {\n      console.log(pageIndex);\n      return {\n        page: pageIndex,\n        pageSize: 10,\n      };\n    },\n  });\n\n  // 操作\n  function handleEditTable(type: string, record: any) {\n    updateData({\n      isView: type === 'view',\n      tableType: type\n    })\n    if (type === 'add') {\n      updateData({ drawerVisible: true, queryInfo: {} })\n    }\n    if (type === 'edit' || type === 'view') {\n      dispatch({\n        type: 'demo/selectById',\n        payload: { id: record?.id }\n      });\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <ProTable\n        btns={[\n          {\n            label: '新增',\n            type: 'primary',\n            onClick: handleEditTable.bind(this, 'add')\n          },\n          {\n            label: '导出',\n            type: \"danger\",\n            onClick: handleEditTable.bind(this, 'export')\n          },\n          {\n            label: '导入',\n            type: \"dark\",\n            onClick: handleEditTable.bind(this, 'import')\n          },\n        ]}\n        columns={[\n          {\n            title: '姓名',\n            key: 'name',\n            props: {\n              widget: 'input',\n              initialValue: 'zzz',\n              // 组件属性\n              widgetProps: {\n                preIcon: 'user',\n                placeholder: '输入用户名'\n              }\n            },\n          },\n          {\n            title: '年龄',\n            key: 'age',\n            props: {\n              widget: 'select',\n              option: [\n                { label: '20', value: 20 },\n                { label: '10', value: 10 },\n              ],\n            },\n          },\n          {\n            title: '地址',\n            key: 'info',\n          },\n          {\n            title: '操作',\n            key: 'edit',\n            width: 98,\n            render: (text: any, key: any, rowData: any) => (\n              <div>\n                <Button size=\"small\" type=\"danger\" onClick={handleEditTable.bind(this, 'edit', rowData)}>编辑</Button>\n                <Button size=\"small\" type=\"success\" onClick={handleEditTable.bind(this, 'view', rowData)}>查看</Button>\n              </div>\n            ),\n          },\n        ]}\n        table={table}\n      />\n      <Detail updateData={updateData} />\n    </React.Fragment>\n  );\n}\nexport default Demo","import { request } from '@uiw-admin/utils';\n\n// /api/demo/selectById\nfunction selectById(params: { id: string }) {\n  return request('/api/demo/selectById', {\n    method: 'POST',\n    body: { ...params },\n  });\n}\n function insert(params: any) {\n  return request('/api/demo/insert', {\n    method: 'POST',\n    body: { ...params },\n  });\n}\n\n// /api/demo/edit\nfunction update(params: any) {\n  return request('/api/demo/update', {\n    method: 'POST',\n    body: { ...params },\n  });\n}\n\nconst selectPage = '/api/demo/selectPage'\n\nexport{\n  selectById,\n  update,\n  insert,\n  selectPage\n}","import React from 'react';\nimport { Loader } from 'uiw';\n\ninterface SkeletonProps {\n  children: React.ReactNode;\n  loading?: boolean;\n}\n\nconst Skeleton: React.FC<SkeletonProps> = ({ children, loading = false }) => {\n  return (\n    <Loader\n      loading={loading}\n      style={{ display: 'block', }}\n      // fullscreen={true}\n      bgColor=\"rgba(255, 255, 255, 0.4)\"\n    >\n      <>{children}</>\n    </Loader>\n  );\n};\n\nexport default Skeleton;\n","import {\n  useContext,\n  createContext,\n} from 'react';\n\nexport const StoreCtx = createContext({});\n\n\nexport const useStore = () => {\n  return useContext(StoreCtx);\n};\n\n\n\n","import React, {\n  useState,\n  useEffect,\n  useCallback,\n  useRef,\n  useMemo,\n} from 'react';\nimport useSWR from 'swr';\nimport { Table, Pagination, TableColumns } from 'uiw';\nimport { request } from '@uiw-admin/utils';\nimport { useStore } from './hooks';\nimport { Fields } from './BaseForm';\n\ninterface BaseTableProps {\n  style?: React.CSSProperties;\n  columns: TableColumns[];\n}\n\nconst BaseTable: React.FC<BaseTableProps> = ({ style, columns }) => {\n  const [pageIndex, setPageIndex] = useState(1);\n\n  const [prevData, setPrevData] = useState({\n    data: [],\n    total: 0,\n  });\n\n  const store = useStore();\n\n  let { formatData, updateStore, query, key, searchValues } = store as any;\n\n  // 表单默认值\n  const defaultValues = useMemo(() => {\n    const defaultSearchValues: Fields = {};\n    columns.forEach((col) => {\n      if (col?.props?.initialValue) {\n        const name = col.key || col.props.key;\n        defaultSearchValues[name] = col.props.initialValue;\n      }\n    });\n\n    return defaultSearchValues;\n  }, [JSON.stringify(columns)]);\n\n  // 是否首次调取数据\n  const isFirstMountRef = useRef(false);\n  // 格式化接口查询参数\n  const formatQuery = useCallback(() => {\n    if (query) {\n      return query(\n        pageIndex,\n        isFirstMountRef.current === false ? defaultValues : searchValues,\n      );\n    } else {\n      // 默认传参\n      return {\n        page: 1,\n        pageSize: 10,\n      };\n    }\n  }, [pageIndex, JSON.stringify(defaultValues), JSON.stringify(searchValues)]);\n\n  const pageSize = formatQuery().pageSize || 10;\n\n  const { data, isValidating } = useSWR(\n    [key, { method: 'POST', body: formatQuery() }],\n    request,\n    {\n      // revalidateOnMount: false,\n      revalidateOnFocus: false,\n    },\n  );\n\n  // 查询\n  const onSearch = useCallback(async () => {\n    setPageIndex(1);\n  }, []);\n  // 分页\n  const onPageChange = useCallback((page) => {\n    setPageIndex(page);\n  }, []);\n\n  useEffect(() => {\n    // 获取表单默认值\n    const defaultSearchValues: Fields = {};\n    columns.forEach((col) => {\n      if (col?.props?.initialValue) {\n        const name = col.key || col.props.key;\n        defaultSearchValues[name] = col.props.initialValue;\n      }\n    });\n    const stores: any = {\n      data: data?.data,\n      total: data?.total,\n      loading: !data || isValidating,\n      onSearch,\n    };\n\n    if (!isFirstMountRef.current) {\n      isFirstMountRef.current = true;\n      // 默认表单值\n\n      stores.searchValues = defaultSearchValues;\n    }\n\n    updateStore(stores);\n\n    // 上一次请求数据\n    if (data) {\n      setPrevData(data);\n    }\n  }, [JSON.stringify(data), isValidating, onSearch, JSON.stringify(columns)]);\n\n  return (\n    <Table\n      columns={columns}\n      data={\n        formatData && data\n          ? formatData(data).data\n          : data?.data || prevData?.data\n      }\n      // style={{overflowX: 'scroll'}}\n      footer={\n        <Pagination\n          current={pageIndex}\n          pageSize={pageSize}\n          total={\n            formatData && data\n              ? formatData(data).total\n              : data?.total || prevData?.total\n          }\n          divider\n          onChange={(page) => {\n            onPageChange(page);\n          }}\n        />\n      }\n    />\n  );\n};\n\nexport default BaseTable;\n","import React from 'react';\nimport { Select } from 'uiw';\n\ninterface FormSelectProps {\n  option?: HTMLOptionElement[];\n}\n\nconst FormSelect: React.FC<FormSelectProps> = ({ option, ...others }) => {\n  return (\n    <Select {...others}>\n      <Select.Option value=\"\">请选择</Select.Option>\n      {option &&\n        option.map((opt) => (\n          <Select.Option key={opt.value} value={opt.value}>\n            {opt.label}\n          </Select.Option>\n        ))}\n    </Select>\n  );\n};\n\nexport default FormSelect;\n","import React from 'react';\nimport {Radio, RadioGroup } from 'uiw';\n\ninterface FormSelectProps {\n  option?: HTMLOptionElement[];\n}\n\nconst FormRadio: React.FC<FormSelectProps> = ({ option, ...others }) => {\n  return (\n    <RadioGroup {...others}>\n      {option &&\n        option.map((opt) => (\n          <Radio key={opt.value} value={opt.value}>\n            {opt.label}\n          </Radio>\n        ))}\n    </RadioGroup>\n  );\n};\n\nexport default FormRadio;\n","import React, { useMemo } from 'react';\nimport {\n  Button,\n  Input,\n  Form,\n  Row,\n  Col,\n  Checkbox,\n  Switch,\n  Textarea,\n  DateInput,\n  TimePicker,\n  MonthPicker,\n  FormSubmitProps,\n  SearchSelect,\n} from 'uiw';\nimport { FormCol } from './index';\nimport Select from './widgets/Select';\nimport FormRadio from './widgets/Radio';\nimport { useStore } from './hooks';\n\ninterface BaseFormProps {\n  columns: FormCol[];\n}\n\nexport type Fields = {\n  [key: string]: any;\n};\n\nconst widgets = {\n  input: Input,\n  radio: FormRadio,\n  checkbox: Checkbox,\n  switch: Switch,\n  select: Select,\n  searchSelect: SearchSelect,\n  textarea: Textarea,\n  dateInput: DateInput,\n  timePicker: TimePicker,\n  monthPicker: MonthPicker,\n};\n\nconst BaseForm: React.FC<BaseFormProps> = (props) => {\n  const store = useStore();\n\n  let { updateStore, reset, onSearch } = store as any;\n\n  const { columns } = props;\n  // 获取表单配置\n  const getFormFields = useMemo(() => {\n    const fields: Fields = {};\n    columns.forEach((col) => {\n      if (col.props && Object.keys(col.props).length > 0) {\n        const { widgetProps, key, widget, label, initialValue, ...otherProps } =\n          col.props;\n        const name = key || col.key;\n        const Widget = widgets[widget];\n        fields[name] = {\n          label: label || col.title,\n          children: <Widget {...widgetProps} />,\n          ...otherProps,\n          initialValue,\n        };\n      }\n    });\n\n    return fields;\n  }, [JSON.stringify(columns)]);\n\n  // 查询\n  const onFormSearch = ({ initial, current }: FormSubmitProps) => {\n    updateStore({\n      searchValues: {\n        ...initial,\n        ...current,\n      },\n    });\n    onSearch(current);\n  };\n\n  // 重置\n\n  // const onReset = (resetForm: () => void) => {\n  //   resetForm();\n  // };\n  const itemsLength = Object.keys(getFormFields).length;\n  const emptyLength = 4 - itemsLength % 5\n  return (\n    <Form\n      style={{ background: '#fff', paddingBottom: 10, marginBottom: 14 }}\n      resetOnSubmit={false}\n      onSubmit={({ initial, current }) => {\n        onFormSearch({ initial, current });\n      }}\n      onSubmitError={(error) => {\n        if (error.filed) {\n          return { ...error.filed };\n        }\n        return null;\n      }}\n      fields={getFormFields}\n    >\n      {({ fields, state, canSubmit, resetForm }) => {\n        return (\n          <div>\n            <Row gutter={12}>\n              {Object.keys(fields).map((key) => (\n                <Col key={key} fixed style={{ width: '20%' }}>\n                  {fields[key]}\n                </Col>\n              ))}\n              {Array(emptyLength).fill('').map((value, index) => (\n                <Col key={index} fixed style={{ width: '20%' }} />\n              ))}\n              <Col align=\"middle\">\n                <Button type=\"primary\" htmlType=\"submit\">\n                  查询\n                </Button>\n                {/* <Button type=\"warning\" onClick={() => onReset(resetForm)}>\n           重置表单\n         </Button> */}\n              </Col>\n            </Row>\n          </div>\n        );\n      }}\n    </Form>\n  );\n};\n\nexport default BaseForm;\n","import React, { useState, useMemo } from 'react';\nimport { Button, Input, Form, ButtonProps, Row, Col, TableColumns } from 'uiw';\nimport Skeleton from '../Skeleton';\nimport Table from './BaseTable';\nimport BaseForm from './BaseForm';\nimport { StoreCtx } from './hooks';\nimport { useTableData } from './useTable';\n\n// interface BtnItem extends ButtonProps{\n//   label: React.ReactNode;\n// };\ninterface ProtableProps {\n  table: useTableData;\n  btns?: Array<ButtonProps>;\n  columns: FormCol[];\n}\n\nexport interface FormCol extends TableColumns {\n  props?: {\n    widget:\n      | 'input'\n      | 'radio'\n      | 'checkbox'\n      | 'switch'\n      | 'select'\n      | 'textarea'\n      | 'dateInput'\n      | 'timePicker'\n      | 'searchSelect'\n      | 'monthPicker';\n    [key: string]: any;\n  };\n}\n\nconst ProTabel: React.FC<ProtableProps> = ({ table, columns, btns = [] }) => {\n  const {\n    key,\n    data,\n    reset,\n    refersh,\n    updateStore,\n    formatData,\n    query,\n    searchValues,\n    loading,\n    onSearch,\n  } = table;\n\n  const store = useMemo(\n    () => ({\n      data: [],\n      reset,\n      refersh,\n      key,\n      updateStore,\n      formatData,\n      query,\n      searchValues,\n      onSearch,\n    }),\n    [\n      JSON.stringify(data),\n      reset,\n      refersh,\n      key,\n      updateStore,\n      formatData,\n      query,\n      JSON.stringify(searchValues),\n      onSearch,\n    ],\n  );\n\n  return (\n    <StoreCtx.Provider value={store}>\n      <Skeleton loading={loading}>\n        {/* 表单查询区域 */}\n        <BaseForm columns={columns} />\n        {/* 操作区域 */}\n        {btns.length > 0 && (\n          <div style={{  background: '#fff', padding: 10 }}>\n            {btns.map((btn: any, idx) => (\n              <Button key={idx.toString()} style={{ marginRight: 5 }} {...btn}>\n                {btn.label}\n              </Button>\n            ))}\n          </div>\n        )}\n\n        {/* 列表组件 */}\n        <Table columns={columns} />\n      </Skeleton>\n    </StoreCtx.Provider>\n  );\n};\n\nexport default ProTabel;\n","import { useRef, useState } from 'react'\n\ntype Result = {\n  total: number,\n  data:  Record<string, string | number | JSX.Element>[];\n}\n\ntype Params = {\n  formatData?: (res: any) => Result,\n  query?: (pageIndex: number, searchValues: object) => ({\n    [key: string]: any\n  })\n}\n\nexport interface useTableData extends Params {\n  data:  Record<string, string | number | JSX.Element>[]\n  total: number\n  key: string\n  reset: () => void\n  refersh: () => void\n  onSearch: () => void\n  updateStore: (p: stateParams) => void\n  searchValues: object,\n  loading: boolean\n}\n\nexport type stateParams = {\n  data?:  Record<string, string | number | JSX.Element>[],\n  total?: number,\n  selectChecked?: [],\n  selectCheckedRows?: [],\n}\n\nconst useTable = (key: string, params: Params = {}): useTableData => {\n\n  const { formatData, query } = params\n\n\n  const [state, setState] = useState<any>({\n     // 总页数\n    total: 1,\n    // 当前table数据源\n    data: [],\n    // 选中的行\n    selectChecked: [],\n    selectCheckedRows: [],\n    // 表单值\n    searchValues: {},\n    // 加载状态\n    loading: false,\n  });\n  // 更新store\n  const updateStore = (datas: stateParams) => {\n    setState({\n      ...state,\n      ...datas,\n    })\n  }\n\n  // 重置\n  const reset = () => {\n\n  }\n  // 刷新当前页数据\n  const refersh = () => {\n\n  }\n  // 点击查询\n  const onSearch = () => {\n\n  }\n\n  return {\n    key,\n    // 重置\n    reset,\n    // 刷新当前页数据\n    refersh,\n    // 点击查询\n    onSearch,\n    formatData,\n    query,\n    updateStore,\n    ...state,\n  }\n}\n\n\nexport default useTable","import React, { memo } from 'react';\nimport { Drawer, Button, DrawerProps, Row, Col } from 'uiw';\n\n/**\n * ProDrawer 组件继承于https://uiwjs.github.io/#/components/drawer\n * @param {boolean} visible 显示隐藏\n * @param {string} title 标题\n * @param {()=>void} onClose 关闭事件\n * @param {number} width Drawer宽\n * @param {Array<{label?:string,onPress?:()=>void,show?:boolean,loading?:boolean}>} buttons 按钮集合(label:\"文本\",onPress:点击事件,show:是否展示)\n * @param {React.ReactNode} children\n * @returns\n */\n\ninterface ButtonItemsProps {\n  label?: string;\n  onPress?: () => void;\n  show?: boolean;\n  size?: 'large' | 'default' | 'small';\n  type?: 'primary' | 'success' | 'warning' | 'danger' | 'light' | 'dark' | 'link';\n  loading?: boolean;\n  width?: number\n}\n\ninterface ProDrawerProps extends DrawerProps {\n  visible: boolean;\n  title?: string;\n  onClose?: any;\n  width?: number;\n  buttons?: Array<ButtonItemsProps>;\n  children?: React.ReactNode\n}\nfunction ProDrawer(props: ProDrawerProps) {\n  const { visible, title = '', onClose = null, width = 800, buttons = [], children, ...others } = props\n  return (\n    <Drawer\n      title={title}\n      isOpen={visible}\n      onClose={onClose && onClose}\n      size={width}\n      bodyStyle={{ padding: '0 10px 45px 10px' }}\n      {...others}\n      footer={\n        buttons.map(\n          ({ label = '', onPress, show = true, loading, type = \"primary\", width = 60, size = \"default\" }, idx) =>\n            show && (\n              <Button\n                style={{ width: width }}\n                key={idx}\n                type={type}\n                size={size}\n                onClick={onPress && onPress}\n                loading={loading}\n              >\n                {label}\n              </Button>\n            )\n        )\n      }\n    >\n      {children}\n    </Drawer>\n  );\n}\n\nexport default memo(ProDrawer);\n"],"names":["labelName","name","type","render","initValue","rules","options","attributes","onItemChange","useFormContext","control","trigger","useController","defaultValue","field","onChange","onBlur","value","ref","widgetsProps","style","flex","event","placeholder","map","disabled","label","formDatas","span","errors","formState","className","gridTemplateColumns","item","childrenProps","children","hide","fixed","color","marginRight","message","isObject","data","Object","prototype","toString","call","slice","toLowerCase","Index","props","methods","useForm","watch","getValues","setValue","reset","setError","clearErrors","defaultOptions","submitErrorCheck","processValuesFunc","setOptions","useImperativeHandle","keys","length","values","error","title","marginTop","marginBottom","React","NewCheckBox","forwardRef","updateData","formRef","useRef","dispatch","useDispatch","useSelector","state","demo","drawerVisible","tableType","queryInfo","width","visible","onClose","buttons","onPress","current","console","log","payload","QuickForm","firstName","required","lastName","select","attr","id2","table","useTable","selectPage","formatData","total","rows","query","pageIndex","page","pageSize","handleEditTable","record","isView","id","btns","onClick","bind","columns","key","widget","initialValue","widgetProps","preIcon","option","text","rowData","size","selectById","params","request","method","body","insert","update","loading","display","bgColor","StoreCtx","createContext","useStore","useContext","useState","store","searchValues","defaultValues","useMemo","defaultSearchValues","col","JSON","isFirstMountRef","formatQuery","useCallback","useSWR","revalidateOnFocus","isValidating","onSearch","setPageIndex","onPageChange","useEffect","stores","updateStore","setPrevData","prevData","footer","divider","others","opt","widgets","input","radio","checkbox","switch","searchSelect","textarea","dateInput","timePicker","monthPicker","MonthPicker","getFormFields","fields","Widget","emptyLength","background","paddingBottom","resetOnSubmit","onSubmit","onFormSearch","initial","onSubmitError","resetForm","gutter","Array","align","htmlType","refersh","Provider","padding","btn","idx","selectChecked","selectCheckedRows","datas","setState","ProDrawer","isOpen","bodyStyle","show","memo"],"sourceRoot":""}