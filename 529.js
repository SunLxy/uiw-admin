"use strict";(self.webpackChunk_examples_base=self.webpackChunk_examples_base||[]).push([[529],{1254:function(e,i,t){t.r(i),t.d(i,{default:function(){return b}});var l=t(6976),a=t(9372),n=t(2729),d=t(4080),o=t(523),r=t(3028),s=t(5642),u=t(4218),p=function(e){var i=e.updateData,t=(0,n.I0)(),l=(0,n.v9)((function(e){return e})).demo,p=l.drawerVisible,c=l.tableType,b=l.queryInfo,v=l.isView,y=function(){return t({type:"demo/clean"})},f=(0,s.ZP)(["add"===c&&o.$T||"edit"===c&&o.Vx,{method:"POST",body:b}],{revalidateOnMount:!1,revalidateOnFocus:!1,onSuccess:function(e){e&&200===e.code&&(a.gU.success({title:e.message}),y())}}).mutate,m=function(e,i){var t=i.isView;return[{label:"\u59d3\u6c0f",key:"firstName",widget:"input",initialValue:null===e||void 0===e?void 0:e.firstName,widgetProps:{disabled:t},hide:!0},{label:"\u540d\u5b57",key:"lastName",widget:"input",initialValue:null===e||void 0===e?void 0:e.lastName,widgetProps:{disabled:t}},{label:"\u90ae\u7bb1",key:"email",widget:"input",initialValue:null===e||void 0===e?void 0:e.email,widgetProps:{disabled:t}},{label:"\u6c34\u679c",key:"select",widget:"select",option:[{value:1,label:"\u82f9\u679c"},{value:2,label:"\u897f\u74dc"},{value:3,label:"\u9999\u8549"},{value:4,label:"\u4e1c\u5317\u5927\u51bb\u68a8"}],initialValue:null===e||void 0===e?void 0:e.select,widgetProps:{disabled:t}},{label:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6",key:"id1",widget:"fileInput"}]}(b,{isView:v});return(0,u.jsx)(d.PB,{width:800,title:"add"===c?"\u65b0\u589e":"edit"===c?"\u7f16\u8f91":"\u67e5\u770b",visible:p,onClose:y,children:(0,u.jsx)(d.A9,{title:"\u57fa\u7840\u4fe1\u606f",onSubmit:function(e,i){var t={};if(null!==i&&void 0!==i&&i.lastName||(t.lastName="\u540d\u5b57\u4e0d\u80fd\u4e3a\u7a7a"),Object.keys(t).length>0){var l=new Error;throw l.filed=t,a.gU.error({title:"\u63d0\u4ea4\u5931\u8d25\uff01"}),l}f()},btns:[{btnType:"submit",label:"\u63d0\u4ea4\u8868\u5355",type:"primary"}],renderWidgetsList:{fileInput:a.S2},onChange:function(e,t){return i({queryInfo:(0,r.Z)((0,r.Z)({},b),t)})},formDatas:m})})},c=void 0,b=function(){var e=(0,n.I0)(),i=function(i){e({type:"demo/updateState",payload:i})},t=(0,d.x6)(o.Zp,{formatData:function(e){return{total:e.data.total,data:e.data.rows||[]}},query:function(e){return console.log(e),{page:e,pageSize:10}}});function r(t,l){i({isView:"view"===t,tableType:t}),"add"===t&&i({drawerVisible:!0,queryInfo:{}}),"edit"!==t&&"view"!==t||e({type:"demo/selectById",payload:{id:null===l||void 0===l?void 0:l.id}})}return(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(d.QV,{btns:[{label:"\u65b0\u589e",type:"primary",onClick:r.bind(c,"add")},{label:"\u5bfc\u51fa",type:"danger",onClick:r.bind(c,"export")},{label:"\u5bfc\u5165",type:"dark",onClick:r.bind(c,"import")}],columns:[{title:"\u59d3\u540d",key:"name",props:{widget:"input",initialValue:"zzz",widgetProps:{preIcon:"user",placeholder:"\u8f93\u5165\u7528\u6237\u540d"}}},{title:"\u5e74\u9f84",key:"age",props:{widget:"select",option:[{label:"20",value:20},{label:"10",value:10}]}},{title:"\u5730\u5740",key:"info"},{title:"\u64cd\u4f5c",key:"edit",width:98,render:function(e,i,t){return(0,u.jsxs)("div",{children:[(0,u.jsx)(a.zx,{size:"small",type:"danger",onClick:r.bind(c,"edit",t),children:"\u7f16\u8f91"}),(0,u.jsx)(a.zx,{size:"small",type:"success",onClick:r.bind(c,"view",t),children:"\u67e5\u770b"})]})}}],table:t}),(0,u.jsx)(p,{updateData:i})]})}}}]);
//# sourceMappingURL=529.js.map